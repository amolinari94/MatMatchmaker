@page "/Test"
@using Microsoft.JSInterop
@inject IJSRuntime jsRuntime

<h1>Login Page</h1>


<button @onclick="SetEmailCookie">Set Email Cookie</button>
<button @onclick="GetEmailCookie">Get Email Cookie</button>
<p>@EmailCookieValue</p>


@code {
    private async Task SetEmailCookie()
    {
        string email = "test@test.com";

        try
        {
            // Invoke the setCookie JavaScript function
            await jsRuntime.InvokeVoidAsync("setCookie", "email", email);
            Console.WriteLine($"Cookie 'email' set with value: {email}");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error setting cookie: {ex.Message}");
        }
    }
    private string EmailCookieValue { get; set; }

    private async Task GetEmailCookie()
    {
        string cookieName = "email";
        string cookieValue = await jsRuntime.InvokeAsync<string>("getCookie", cookieName);

        if (!string.IsNullOrEmpty(cookieValue))
        {
            EmailCookieValue = $"Value of 'email' cookie: {cookieValue}";
        }
        else
        {
            EmailCookieValue = "Cookie 'email' not found.";
        }
    }
}