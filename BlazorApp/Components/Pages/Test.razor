@page "/Test"
@using DataAccessLibrary.Models
@using DataAccessLibrary
@using Microsoft.AspNetCore.Antiforgery
@inject IMatchData _dba
@using Microsoft.JSInterop
@inject IJSRuntime jsRuntime
@inject Microsoft.AspNetCore.Components.NavigationManager NavigationManager
@using Microsoft.AspNetCore.Antiforgery
@using Structure
@using Microsoft.JSInterop
@using System.Text.Json
@using Blazored.LocalStorage
@inject IEventData eventData
@inject IEventData _dbe
@inject DataAccessLibrary.IEventData EventData
@rendermode InteractiveServer


@inject IProfileData profileData

@inject IEventGuestsData eventGuestData

<h3>Test Page: Insert Guest</h3>

<button @onclick="InsertGuest">Insert Guest</button>

@code {
    private async Task InsertGuest()
    {
        try
        {
            int eventId = 1; // Replace with actual event ID
            int guestProfileId = 5; // Replace with actual guest profile ID

            await eventGuestData.InsertGuest(eventId, guestProfileId);
            Console.WriteLine("Guest inserted successfully!");
        }
        catch (Exception ex)
        {
            Console.WriteLine($"Error inserting guest: {ex.Message}");
        }
    }
}
